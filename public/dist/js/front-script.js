var initAddressSuggesters,checkAddress,setupMap,mapsLoaded=!0,mapsWaiting=[],prepareMapFunction=function(e){mapsLoaded?e():mapsWaiting.push(e)};$(document).ready(function(e){setupMap=function(e,t){if(e.find(".suggester-map-div").show(),e.find(".suggester-map-div").attr("inited"))e.find(".suggester-map-div").data("map").panTo(t),e.find(".suggester-map-div").data("marker").setPosition(t);else{var o=new google.maps.Map(e.find(".suggester-map-div")[0],{center:t,zoom:14,backgroundColor:"none"}),i=new google.maps.Marker({map:o,icon:"/assets/images/map-pin-inactive.png",draggable:!0,position:t});i.addListener("dragend",function(t){this.map.panTo(this.getPosition()),(new google.maps.Geocoder).geocode({location:this.getPosition()},function(e,t){if("OK"==t){var o=e[0].formatted_address,i=this.find(".country-select option:selected").text();o=o.replace(", "+i,""),this.find(".address-suggester").val(o).blur()}else checkAddress(null,this)}.bind(e))}),e.find(".suggester-map-div").attr("inited",1),e.find(".suggester-map-div").data("map",o),e.find(".suggester-map-div").data("marker",i)}},initAddressSuggesters=function(){prepareMapFunction(function(){e(".address-suggester").each(function(){if(e(this).hasClass("dont-init"))return!1;var t=e(this).closest(".address-suggester-wrapper");if(t.find(".country-select").change(function(){var t=e(this).find("option:selected").val();a.setComponentRestrictions({country:t})}),t.find(".suggester-map-div").attr("lat")){var o={lat:parseFloat(t.find(".suggester-map-div").attr("lat")),lng:parseFloat(t.find(".suggester-map-div").attr("lon"))};setupMap(t,o)}var i=e(this)[0],s={componentRestrictions:{country:t.find(".country-select option:selected").val()},types:["address"]},a=new google.maps.places.Autocomplete(i,s);a.suggester_container=t,google.maps.event.addListener(a,"place_changed",function(){var e=this.getPlace();this.suggester_container.find(".address-suggester").val(e.formatted_address?e.formatted_address:e.name).blur()}.bind(a)),e(this).blur(function(t){var o=e(this).closest(".address-suggester-wrapper"),i=(o.find(".country-select option:selected").text(),o.find(".country-select option:selected").val()),s=new google.maps.Geocoder,a=e(this).val();s.geocode({address:a,region:i},function(e,t){checkAddress("OK"==t?e[0]:null,this)}.bind(o))})})}),e(".address-suggester").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})},checkAddress=function(e,t){if(t.find(".geoip-hint").hide(),t.find(".geoip-confirmation").hide(),t.find(".suggester-map-div").hide(),e&&e.geometry){var o=t.find(".address-suggester").val(),i=t.find(".country-select option:selected").text();o=o.replace(", "+i,""),t.find(".address-suggester").val(o);var s={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};return setupMap(t,s),void t.find(".geoip-confirmation").show()}t.find(".geoip-hint").show()},e(".address-suggester").length&&initAddressSuggesters()}),console.log("Don't touch the code. Or do ... ¯\\_(ツ)_/¯"),checkIfCookie(),$(document).ready(function(){}),$(window).on("load",function(){}),$(window).on("resize",function(){}),$(window).on("scroll",function(){});var mobile_os={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}};function checkIfCookie(){$(".privacy-policy-cookie").length>0&&($(".privacy-policy-cookie .accept-all").click(function(){basic.cookies.set("performance_cookies",1),basic.cookies.set("functionality_cookies",1),basic.cookies.set("marketing_cookies",1),basic.cookies.set("strictly_necessary_policy",1),window.location.reload()}),$(".adjust-cookies").click(function(){$(".customize-cookies").remove(),$(".privacy-policy-cookie").append('<div class="customize-cookies"><button class="close-customize-cookies close-customize-cookies-popup">×</button><div class="text-center"><img src="/assets/images/cookie-icon.svg" alt="Cookie icon" class="cookie-icon"/></div><div class="text-center padding-top-10 padding-bottom-20 fs-20">Select cookies to accept:</div><div class="cookies-options-list"><ul><li><div class="pretty p-svg p-curve"><input checked disabled type="checkbox" id="strictly-necessary-cookies"/><div class="state p-success"><svg class="svg svg-icon" viewBox="0 0 20 20"><path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path></svg><label for="strictly-necessary-cookies"><span>Strictly necessary</span> <i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="Cookies essential to navigate around the website and use its features. Without them, you wouldn’t be able to use basic services like signup or login."></i></label></div></div></li><li><div class="pretty p-svg p-curve"><input checked type="checkbox" id="functionality-cookies"/><div class="state p-success"><svg class="svg svg-icon" viewBox="0 0 20 20"><path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path></svg><label for="functionality-cookies">Functionality cookies <i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="These cookies allow users to customise how a website looks for them; they can remember usernames, preferences, etc."></i></label></div></div></li></ul><ul><li><div class="pretty p-svg p-curve"><input checked type="checkbox" id="performance-cookies"/><div class="state p-success"><svg class="svg svg-icon" viewBox="0 0 20 20"><path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path></svg><label for="performance-cookies">Performance cookies <i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="These cookies collect data for statistical purposes on how visitors use a website, they don’t contain personal data and are used to improve user experience."></i></label></div></div></li><li><div class="pretty p-svg p-curve"><input checked type="checkbox" id="marketing-cookies"/><div class="state p-success"><svg class="svg svg-icon" viewBox="0 0 20 20"><path d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z" style="stroke: white;fill:white;"></path></svg><label for="marketing-cookies">Marketing cookies <i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" title="Marketing cookies are used e.g. to deliver advertisements more relevant to you or limit the number of times you see an advertisement."></i></label></div></div></li></ul></div><div class="text-center actions"><a href="javascript:void(0);" class="light-blue-white-btn margin-right-10 close-customize-cookies-popup">CANCEL</a><a href="javascript:void(0);" class="white-light-blue-btn custom-cookie-save">SAVE</a></div><div class="custom-triangle"></div></div>'),initTooltips(),$(".close-customize-cookies-popup").click(function(){$(".customize-cookies").remove()}),$(".custom-cookie-save").click(function(){basic.cookies.set("strictly_necessary_policy",1),$("#functionality-cookies").is(":checked")&&basic.cookies.set("functionality_cookies",1),$("#marketing-cookies").is(":checked")&&basic.cookies.set("marketing_cookies",1),$("#performance-cookies").is(":checked")&&basic.cookies.set("performance_cookies",1),window.location.reload()})}))}function initTooltips(){$('[data-toggle="tooltip"]')&&$('[data-toggle="tooltip"]').tooltip()}function initCaptchaRefreshEvent(){$(".refresh-captcha").length>0&&$(".refresh-captcha").click(function(){$.ajax({type:"GET",url:"/refresh-captcha",dataType:"json",success:function(e){$(".captcha-container span").html(e.captcha)}})})}function successfulUserLogin(e){$(".response-layer").hide(),basic.closeDialog(),e.success?e.upgradeable_content?($(".upgradeable-html").html(e.upgradeable_content),$("form#dentacare-withdraw").on("submit",function(t){t.preventDefault();var o=$(this);o.find(".error-handle").remove();var i=o.find(".form-field"),s=!0;"true"==o.attr("data-stoppage")&&(customErrorHandle(o,"You don't have any DCN balance at the moment."),s=!1);for(var a=0,n=i.length;a<n;a+=1)""==i.eq(a).val().trim()?(customErrorHandle(i.eq(a).closest(".field-parent"),"This field is required."),s=!1):"dentacare-address"==i.eq(a).attr("name")&&42!=i.eq(a).val().trim().length&&(customErrorHandle(i.eq(a).closest(".field-parent"),"Please use valid Wallet Address."),s=!1);s&&($(".response-layer").show(),setTimeout(function(){fireGoogleAnalyticsEvent("Withdraw","Collect","Rewards",e.amount),$.ajax({type:"POST",url:"/submit-withdraw-dentacare-dcn",dataType:"json",data:{token:e.token,amount:e.amount,address:o.find('input[name="dentacare-address"]').val().trim()},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$(".response-layer").hide(),basic.closeDialog(),e.success?(o.find('input[name="dentacare-address"]').val(""),basic.showAlert(e.success,"",!0)):e.error&&basic.showAlert(e.error,"",!0)}})},1e3))})):basic.showAlert(e.success,"",!0):e.error&&basic.showAlert(e.error,"",!0)}function fixButtonsFocus(){$(document).on("click",".light-blue-white-btn",function(){$(this).blur()}),$(document).on("click",".white-light-blue-btn",function(){$(this).blur()})}function hidePopupOnBackdropClick(){$(document).on("click",".bootbox",function(){var e=event.target.className;(e=e.replace(/ /g,"."))&&!$("."+e).parents(".modal-dialog").length&&($(".bootbox.login-signin-popup").length&&$(".hidden-login-form").html(hidden_popup_content),$(".bootbox.login-signin-popup").length&&$(".hidden-login-form").html(hidden_popup_content),bootbox.hideAll())})}function customErrorHandle(e,t){e.append('<div class="error-handle">'+t+"</div>")}function bindGoogleAlikeButtonsEvents(){$("body").on("click",".custom-google-label-style label",function(){$(this).addClass("active-label"),"true"==$(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).parent().find("input").addClass("blue-green-border")}),$("body").on("keyup change focusout",".custom-google-label-style input",function(){$(this).val().trim().length?($(this).closest(".custom-google-label-style").find("label").addClass("active-label"),"true"==$(this).closest(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).addClass("blue-green-border")):($(this).closest(".custom-google-label-style").find("label").removeClass("active-label"),"true"==$(this).closest(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).removeClass("blue-green-border"))})}function has(e,t){return!!e&&hasOwnProperty.call(e,t)}function fireGoogleAnalyticsEvent(e,t,o,i){var s={event_category:e,event_action:t,event_label:o};null!=i&&(s.value=i),gtag("event",o,s)}function bindDentacareGooglePlayBtnClick(){$(document).on("click",".dentacare-google-play-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Download","Click","Google Play"),fbq("track","DentaGooglePlay"),window.open($(this).attr("href"))})}function bindDentacareAppStoreBtnClick(){$(document).on("click",".dentacare-app-store-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Download","Click","Apple"),fbq("track","DentaAppStore"),window.open($(this).attr("href"))})}function bindTRPLinkTracker(){$(document).on("click",".trp-link-tracker",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Tools","Click","TRP"),window.open($(this).attr("href"))})}function bindDVLinkTracker(){$(document).on("click",".vox-link-tracker",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Tools","Click","Vox"),window.open($(this).attr("href"))})}mobile_os.iOS()?$(".android-btn").remove():mobile_os.Android()&&$(".ios-btn").remove(),initCaptchaRefreshEvent(),$("body").hasClass("home")?($(".moving-phones-container").length&&($("body").addClass("overflow-hidden"),$(window).width()>768&&setTimeout(function(){$(".moving-phones-container").animate({left:"0"},1500,null,function(){$(".first-phone").addClass("right-rotation"),$(".second-phone").addClass("right-rotation"),$(".third-phone").addClass("left-rotation"),$(".moving-phones-container").addClass("move-back-top")})},1e3),$("body").removeClass("overflow-hidden")),$(".testimonials-slider").length>0&&$(".testimonials-slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:8e3,adaptiveHeight:!0}),$(".oral-care-journey-slider .init-slider").length>0&&$(".oral-care-journey-slider .init-slider").slick({slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:1}}]})):$("body").hasClass("dentacare-password-reset")?$("form#dentacare-password-reset-form").length&&$("form#dentacare-password-reset-form").on("submit",function(e){e.preventDefault();var t=$(this),o=!1;t.find(".error-handle").remove(),""==t.find('input[name="password"]').val().trim()?(customErrorHandle(t.find('input[name="password"]').closest(".field-parent"),"This field is required."),o=!0):(t.find('input[name="password"]').val().trim().length<6||t.find('input[name="password"]').val().trim().length>20)&&(customErrorHandle(t.find('input[name="password"]').closest(".field-parent"),"Password must contain between 6 and 20 symbols."),o=!0),""==t.find('input[name="repeat-password"]').val().trim()?(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"This field is required."),o=!0):(t.find('input[name="repeat-password"]').val().trim().length<6||t.find('input[name="repeat-password"]').val().trim().length>20)&&(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"Password must contain between 6 and 20 symbols."),o=!0),""!=t.find('input[name="password"]').val().trim()&&""!=t.find('input[name="repeat-password"]').val().trim()&&t.find('input[name="password"]').val().trim()!=t.find('input[name="repeat-password"]').val().trim()&&(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"Both passwords don't match."),o=!0),o||this.submit()}):$("body").hasClass("withdraw-dentacare-dcn")&&(window.fbAsyncInit=function(){FB.init({appId:"1500240286681345",cookie:!0,xfbml:!0,version:"v2.10"}),FB.AppEvents.logPageView()},function(e,t,o){var i,s=e.getElementsByTagName(t)[0];e.getElementById(o)||((i=e.createElement(t)).id=o,i.src="//connect.facebook.net/bg_BG/sdk.js",s.parentNode.insertBefore(i,s))}(document,"script","facebook-jssdk"),$("body").on("click",".facebook-dentacare-btn",function(e){var t={scope:"email"};e&&(t.auth_type="rerequest"),FB.login(function(e){if(e.authResponse){var t=e.authResponse.accessToken;$(".response-layer").show(),setTimeout(function(){FB.api("/me?fields=id,email,name,permissions",function(e){var o,i=e.id;if(null==e.email)return basic.showAlert("Please go to your facebook account privacy settings and make your email public. Without giving us access to your email we cannot proceed with the login.","",!0),$(".response-layer").hide(),!0;o=e.email,$.ajax({type:"POST",url:"/social-authenticate-dentacare-user",dataType:"json",data:{email:o,user_id:i,token:t},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){successfulUserLogin(e)}})})},1e3)}},t)}),$("body").on("click",".google-dentacare-btn",function(){if(""==basic.cookies.get("social-allowed"))return basic.showAlert("Coming soon.","",!0),!1}),$("form#dentacare-sign-in").on("submit",function(e){e.preventDefault();var t=$(this);t.find(".error-handle").remove();for(var o=t.find(".form-field"),i=!0,s=0,a=o.length;s<a;s+=1)""==o.eq(s).val().trim()?(customErrorHandle(o.eq(s).closest(".field-parent"),"This field is required."),i=!1):"email"!=o.eq(s).attr("name")||basic.validateEmail(o.eq(s).val().trim())||(customErrorHandle(o.eq(s).closest(".field-parent"),"Please use valid email address."),i=!1);i&&($(".response-layer").show(),setTimeout(function(){$.ajax({type:"POST",url:"/authenticate-dentacare-user",dataType:"json",data:{email:t.find('input[name="email"]').val().trim(),password:t.find('input[name="password"]').val().trim()},success:function(e){successfulUserLogin(e)}})},1e3))})),fixButtonsFocus(),hidePopupOnBackdropClick(),bindGoogleAlikeButtonsEvents(),bindDentacareGooglePlayBtnClick(),bindDentacareAppStoreBtnClick(),bindTRPLinkTracker(),bindDVLinkTracker();
