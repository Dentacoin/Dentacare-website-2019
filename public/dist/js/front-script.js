var initAddressSuggesters,checkAddress,setupMap,mapsLoaded=!0,mapsWaiting=[],prepareMapFunction=function(e){mapsLoaded?e():mapsWaiting.push(e)};$(document).ready(function(e){setupMap=function(e,t){if(e.find(".suggester-map-div").show(),e.find(".suggester-map-div").attr("inited"))e.find(".suggester-map-div").data("map").panTo(t),e.find(".suggester-map-div").data("marker").setPosition(t);else{var n=new google.maps.Map(e.find(".suggester-map-div")[0],{center:t,zoom:14,backgroundColor:"none"}),o=new google.maps.Marker({map:n,icon:"/assets/images/map-pin-inactive.png",draggable:!0,position:t});o.addListener("dragend",function(t){this.map.panTo(this.getPosition()),(new google.maps.Geocoder).geocode({location:this.getPosition()},function(e,t){if("OK"==t){var n=e[0].formatted_address,o=this.find(".country-select option:selected").text();n=n.replace(", "+o,""),this.find(".address-suggester").val(n).blur()}else checkAddress(null,this)}.bind(e))}),e.find(".suggester-map-div").attr("inited",1),e.find(".suggester-map-div").data("map",n),e.find(".suggester-map-div").data("marker",o)}},initAddressSuggesters=function(){prepareMapFunction(function(){e(".address-suggester").each(function(){if(e(this).hasClass("dont-init"))return!1;var t=e(this).closest(".address-suggester-wrapper");if(t.find(".country-select").change(function(){var t=e(this).find("option:selected").val();i.setComponentRestrictions({country:t})}),t.find(".suggester-map-div").attr("lat")){var n={lat:parseFloat(t.find(".suggester-map-div").attr("lat")),lng:parseFloat(t.find(".suggester-map-div").attr("lon"))};setupMap(t,n)}var o=e(this)[0],a={componentRestrictions:{country:t.find(".country-select option:selected").val()},types:["address"]},i=new google.maps.places.Autocomplete(o,a);i.suggester_container=t,google.maps.event.addListener(i,"place_changed",function(){var e=this.getPlace();this.suggester_container.find(".address-suggester").val(e.formatted_address?e.formatted_address:e.name).blur()}.bind(i)),e(this).blur(function(t){var n=e(this).closest(".address-suggester-wrapper"),o=(n.find(".country-select option:selected").text(),n.find(".country-select option:selected").val()),a=new google.maps.Geocoder,i=e(this).val();a.geocode({address:i,region:o},function(e,t){checkAddress("OK"==t?e[0]:null,this)}.bind(n))})})}),e(".address-suggester").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})},checkAddress=function(e,t){if(t.find(".geoip-hint").hide(),t.find(".geoip-confirmation").hide(),t.find(".suggester-map-div").hide(),e&&e.geometry){var n=t.find(".address-suggester").val(),o=t.find(".country-select option:selected").text();n=n.replace(", "+o,""),t.find(".address-suggester").val(n);var a={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};return setupMap(t,a),void t.find(".geoip-confirmation").show()}t.find(".geoip-hint").show()},e(".address-suggester").length&&initAddressSuggesters()}),console.log("Don't touch the code. Or do ... ¯\\_(ツ)_/¯"),$(document).ready(function(){}),$(window).on("load",function(){}),$(window).on("resize",function(){}),$(window).on("scroll",function(){});var mobile_os={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}};function initTooltips(){$('[data-toggle="tooltip"]')&&$('[data-toggle="tooltip"]').tooltip()}function initCaptchaRefreshEvent(){$(".refresh-captcha").length>0&&$(".refresh-captcha").click(function(){$.ajax({type:"GET",url:"/refresh-captcha",dataType:"json",success:function(e){$(".captcha-container span").html(e.captcha)}})})}function successfulUserLogin(e){$(".response-layer").hide(),basic.closeDialog(),e.success?e.upgradeable_content?($(".upgradeable-html").html(e.upgradeable_content),$("form#dentacare-withdraw").on("submit",function(t){t.preventDefault();var n=$(this);n.find(".error-handle").remove();var o=n.find(".form-field"),a=!0;"true"==n.attr("data-stoppage")&&(customErrorHandle(n,"You don't have any DCN balance at the moment."),a=!1);for(var i=0,s=o.length;i<s;i+=1)""==o.eq(i).val().trim()?(customErrorHandle(o.eq(i).closest(".field-parent"),"This field is required."),a=!1):"dentacare-address"==o.eq(i).attr("name")&&42!=o.eq(i).val().trim().length&&(customErrorHandle(o.eq(i).closest(".field-parent"),"Please use valid Wallet Address."),a=!1);a&&($(".response-layer").show(),setTimeout(function(){fireGoogleAnalyticsEvent("Withdraw","Collect","Rewards",e.amount),$.ajax({type:"POST",url:"/submit-withdraw-dentacare-dcn",dataType:"json",data:{token:e.token,amount:e.amount,address:n.find('input[name="dentacare-address"]').val().trim()},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$(".response-layer").hide(),basic.closeDialog(),e.success?(n.find('input[name="dentacare-address"]').val(""),basic.showAlert(e.success,"",!0)):e.error&&basic.showAlert(e.error,"",!0)}})},1e3))})):basic.showAlert(e.success,"",!0):e.error&&basic.showAlert(e.error,"",!0)}function fixButtonsFocus(){$(document).on("click",".light-blue-white-btn",function(){$(this).blur()}),$(document).on("click",".white-light-blue-btn",function(){$(this).blur()})}function hidePopupOnBackdropClick(){$(document).on("click",".bootbox",function(){var e=event.target.className;(e=e.replace(/ /g,"."))&&!$("."+e).parents(".modal-dialog").length&&($(".bootbox.login-signin-popup").length&&$(".hidden-login-form").html(hidden_popup_content),$(".bootbox.login-signin-popup").length&&$(".hidden-login-form").html(hidden_popup_content),bootbox.hideAll())})}function customErrorHandle(e,t){e.append('<div class="error-handle">'+t+"</div>")}function bindGoogleAlikeButtonsEvents(){$("body").on("click",".custom-google-label-style label",function(){$(this).addClass("active-label"),"true"==$(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).parent().find("input").addClass("blue-green-border")}),$("body").on("keyup change focusout",".custom-google-label-style input",function(){$(this).val().trim().length?($(this).closest(".custom-google-label-style").find("label").addClass("active-label"),"true"==$(this).closest(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).addClass("blue-green-border")):($(this).closest(".custom-google-label-style").find("label").removeClass("active-label"),"true"==$(this).closest(".custom-google-label-style").attr("data-input-colorful-border")&&$(this).removeClass("blue-green-border"))})}function has(e,t){return!!e&&hasOwnProperty.call(e,t)}function fireGoogleAnalyticsEvent(e,t,n,o){var a={event_category:e,event_action:t,event_label:n};null!=o&&(a.value=o),gtag("event",n,a)}function bindJawsOfBattleGooglePlayBtnClick(){$(document).on("click",".jaws-of-battle-google-play-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Jaws","Click","Google Play"),fbq("track","JawsGooglePlay"),window.open($(this).attr("href"))})}function bindJawsOfBattleAppStoreBtnClick(){$(document).on("click",".jaws-of-battle-app-store-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Jaws","Click","Apple"),fbq("track","JawsAppStore"),window.open($(this).attr("href"))})}function bindDentacareGooglePlayBtnClick(){$(document).on("click",".dentacare-google-play-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Download","Click","Google Play"),fbq("track","DentaGooglePlay"),window.open($(this).attr("href"))})}function bindDentacareAppStoreBtnClick(){$(document).on("click",".dentacare-app-store-btn-click",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Download","Click","Apple"),fbq("track","DentaAppStore"),window.open($(this).attr("href"))})}function bindTRPLinkTracker(){$(document).on("click",".trp-link-tracker",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Tools","Click","TRP"),window.open($(this).attr("href"))})}function bindDVLinkTracker(){$(document).on("click",".vox-link-tracker",function(e){e.preventDefault(),fireGoogleAnalyticsEvent("Tools","Click","Vox"),window.open($(this).attr("href"))})}mobile_os.iOS()?$(".android-btn").remove():mobile_os.Android()&&$(".ios-btn").remove(),initCaptchaRefreshEvent(),$("body").hasClass("home")?($(".moving-phones-container").length&&($("body").addClass("overflow-hidden"),$(window).width()>768&&setTimeout(function(){$(".moving-phones-container").animate({left:"0"},1500,null,function(){$(".first-phone").addClass("right-rotation"),$(".second-phone").addClass("right-rotation"),$(".third-phone").addClass("left-rotation"),$(".moving-phones-container").addClass("move-back-top")})},1e3),$("body").removeClass("overflow-hidden")),$(".testimonials-slider").length>0&&$(".testimonials-slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:8e3,adaptiveHeight:!0}),$(".oral-care-journey-slider .init-slider").length>0&&$(".oral-care-journey-slider .init-slider").slick({slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:1}}]})):$("body").hasClass("dentacare-password-reset")?$("form#dentacare-password-reset-form").length&&$("form#dentacare-password-reset-form").on("submit",function(e){e.preventDefault();var t=$(this),n=!1;t.find(".error-handle").remove(),""==t.find('input[name="password"]').val().trim()?(customErrorHandle(t.find('input[name="password"]').closest(".field-parent"),"This field is required."),n=!0):(t.find('input[name="password"]').val().trim().length<6||t.find('input[name="password"]').val().trim().length>20)&&(customErrorHandle(t.find('input[name="password"]').closest(".field-parent"),"Password must contain between 6 and 20 symbols."),n=!0),""==t.find('input[name="repeat-password"]').val().trim()?(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"This field is required."),n=!0):(t.find('input[name="repeat-password"]').val().trim().length<6||t.find('input[name="repeat-password"]').val().trim().length>20)&&(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"Password must contain between 6 and 20 symbols."),n=!0),""!=t.find('input[name="password"]').val().trim()&&""!=t.find('input[name="repeat-password"]').val().trim()&&t.find('input[name="password"]').val().trim()!=t.find('input[name="repeat-password"]').val().trim()&&(customErrorHandle(t.find('input[name="repeat-password"]').closest(".field-parent"),"Both passwords don't match."),n=!0),n||this.submit()}):$("body").hasClass("withdraw-dentacare-dcn")&&(window.fbAsyncInit=function(){FB.init({appId:"1500240286681345",cookie:!0,xfbml:!0,version:"v2.10"}),FB.AppEvents.logPageView()},function(e,t,n){var o,a=e.getElementsByTagName(t)[0];e.getElementById(n)||((o=e.createElement(t)).id=n,o.src="//connect.facebook.net/bg_BG/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk"),$("body").on("click",".facebook-dentacare-btn",function(e){var t={scope:"email"};e&&(t.auth_type="rerequest"),FB.login(function(e){if(e.authResponse){var t=e.authResponse.accessToken;$(".response-layer").show(),setTimeout(function(){FB.api("/me?fields=id,email,name,permissions",function(e){var n,o=e.id;if(null==e.email)return basic.showAlert("Please go to your facebook account privacy settings and make your email public. Without giving us access to your email we cannot proceed with the login.","",!0),$(".response-layer").hide(),!0;n=e.email,$.ajax({type:"POST",url:"/social-authenticate-dentacare-user",dataType:"json",data:{email:n,user_id:o,token:t},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){successfulUserLogin(e)}})})},1e3)}},t)}),$("body").on("click",".google-dentacare-btn",function(){if(""==basic.cookies.get("social-allowed"))return basic.showAlert("Coming soon.","",!0),!1}),$("form#dentacare-sign-in").on("submit",function(e){e.preventDefault();var t=$(this);t.find(".error-handle").remove();for(var n=t.find(".form-field"),o=!0,a=0,i=n.length;a<i;a+=1)""==n.eq(a).val().trim()?(customErrorHandle(n.eq(a).closest(".field-parent"),"This field is required."),o=!1):"email"!=n.eq(a).attr("name")||basic.validateEmail(n.eq(a).val().trim())||(customErrorHandle(n.eq(a).closest(".field-parent"),"Please use valid email address."),o=!1);o&&($(".response-layer").show(),setTimeout(function(){$.ajax({type:"POST",url:"/authenticate-dentacare-user",dataType:"json",data:{email:t.find('input[name="email"]').val().trim(),password:t.find('input[name="password"]').val().trim()},success:function(e){successfulUserLogin(e)}})},1e3))})),fixButtonsFocus(),hidePopupOnBackdropClick(),bindGoogleAlikeButtonsEvents(),bindJawsOfBattleGooglePlayBtnClick(),bindJawsOfBattleAppStoreBtnClick(),bindDentacareGooglePlayBtnClick(),bindDentacareAppStoreBtnClick(),bindTRPLinkTracker(),bindDVLinkTracker(),"undefined"!=typeof dcnCookie&&dcnCookie.init({google_app_id:"UA-97167262-5",fb_app_id:"2366034370318681"}),$(".bottom-fixed-promo-banner").length&&$(".bottom-fixed-promo-banner .close-banner").click(function(){$("footer").removeClass("extra-bottom-padding"),$(".bottom-fixed-promo-banner").remove();var e=new Date,t=e.getTime();t+=72e5,e.setTime(t),document.cookie="hide-holiday-calendar-banner=1; expires="+e.toUTCString()+";domain=dentacoin.com;path=/;"});
